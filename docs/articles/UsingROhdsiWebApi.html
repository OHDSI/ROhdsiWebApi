<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Using ROhdsiWebApi • ROhdsiWebApi</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Using ROhdsiWebApi">
<meta property="og:description" content="ROhdsiWebApi">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ROhdsiWebApi</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/InsertCohortDefinitionsIntoPackage.html">Insert Cohort Definitions Into Package</a>
    </li>
    <li>
      <a href="../articles/UsingROhdsiWebApi.html">Using ROhdsiWebApi</a>
    </li>
    <li>
      <a href="../articles/authenticationSecurity.html">Using ROhdsiWebApi with security enabled Atlas/WebAPI</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://ohdsi.github.io/Hades" class="external-link"><img src='https://ohdsi.github.io/Hades/images/hadesMini.png' width=80 height=17 style='vertical-align: top;'></a>
</li>
<li>
  <a href="https://github.com/OHDSI/ROhdsiWebApi/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Using ROhdsiWebApi</h1>
                        <h4 data-toc-skip class="author">Gowtham Rao</h4>
            
            <h4 data-toc-skip class="date">2022-03-09</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/OHDSI/ROhdsiWebApi/blob/HEAD/vignettes/UsingROhdsiWebApi.Rmd" class="external-link"><code>vignettes/UsingROhdsiWebApi.Rmd</code></a></small>
      <div class="hidden name"><code>UsingROhdsiWebApi.Rmd</code></div>

    </div>

    
    
<p>ROhdsiWebApi is part of <a href="https://ohdsi.github.io/Hades" class="external-link">HADES</a>.</p>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>From Package <a href="https://github.com/OHDSI/ROhdsiWebApi/blob/master/README.md" class="external-link">Readme</a></p>
<blockquote>
<p>ROhdsiWebApi is a R based interface to <a href="https://github.com/ohdsi/webapi" class="external-link">‘WebApi’</a> (OHDSI RESTful services), and performs GET/PULL/POST/DELETE calls via the WebApi. All objects starting from R or output to R - are analysis ready R-objects like list and data.frame. The package handles the intermediary steps by converting R-objects to JSON and vice versa. To ensure r-objects are analysis ready, the objects are type converted where possible, e.g. date/date time are converted from string to POSIXct.</p>
</blockquote>
<blockquote>
<p>This package makes reproducible research easier, by offering ability to retrieve detailed study specifications, transport study specifications from one instance to another, programmatically invoke the generation of a sequence of steps that are part of a study, manage running studies in batch mode.</p>
</blockquote>
<p>This document will attempt to explain how ROhdsiWebApi maybe used to achieve reproducible research.</p>
</div>
<div class="section level2">
<h2 id="webapi-configurations-and-rohdsiwebapi">WebApi configurations and ROhdsiWebApi<a class="anchor" aria-label="anchor" href="#webapi-configurations-and-rohdsiwebapi"></a>
</h2>
<p>To successfully use ROhdsiWebApi, it is necessary to have an active <a href="https://github.com/ohdsi/webapi" class="external-link">‘WebApi’</a> endpoint with a known baseUrl such as “<a href="http://server.org:80/WebAPI" class="external-link uri">http://server.org:80/WebAPI</a>”. <a href="https://github.com/ohdsi/webapi" class="external-link">‘WebApi’</a> has many functional categories.</p>
<p>To ensure reproducibility of work it is best to know the version of the WebApi (i.e. Atlas backend) being used. An easy way to do that is (and output maybe included in your study results)</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">version</span> <span class="op">&lt;-</span> <span class="fu">ROhdsiWebApi</span><span class="fu">:::</span><span class="fu"><a href="../reference/getWebApiVersion.html">getWebApiVersion</a></span><span class="op">(</span>baseUrl <span class="op">=</span> <span class="va">baseUrl</span><span class="op">)</span>
<span class="va">message1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">'This Vignette was created using WebApi version: '</span>, 
                   <span class="va">version</span>, 
                   <span class="st">' on baseUrl: '</span>, 
                   <span class="va">baseUrl</span>, 
                   <span class="st">". The CDM had the following source data configured: "</span><span class="op">)</span>
<span class="va">cdmSources</span> <span class="op">&lt;-</span> <span class="fu">ROhdsiWebApi</span><span class="fu">::</span><span class="fu"><a href="../reference/getCdmSources.html">getCdmSources</a></span><span class="op">(</span>baseUrl <span class="op">=</span> <span class="va">baseUrl</span><span class="op">)</span>
<span class="va">priorityVocabulary</span> <span class="op">&lt;-</span> <span class="fu">ROhdsiWebApi</span><span class="fu">::</span><span class="fu"><a href="../reference/getPriorityVocabularyKey.html">getPriorityVocabularyKey</a></span><span class="op">(</span>baseUrl <span class="op">=</span> <span class="va">baseUrl</span><span class="op">)</span></code></pre></div>
<p>The object <code>version</code> will show your webApi version. Example: This Vignette was created using WebApi version: 2.11.0 on baseUrl: <a href="http://api.ohdsi.org:8080/WebAPI" class="external-link uri">http://api.ohdsi.org:8080/WebAPI</a>. The CDM had the following source data configured: .</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">cdmSources</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 7</span></span>
<span class="co">#&gt;   sourceId sourceName  sourceKey sourceDialect cdmDatabaseSche… vocabDatabaseSc…</span>
<span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span>        4 Common Evi… CEM       postgresql    <span style="color: #BB0000;">NA</span>               unrestricted    </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span>        6 SYNPUF 1K   SYNPUF1K  postgresql    synpuf1k         unrestricted    </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span>        5 SYNPUF 5%   SYNPUF5P… postgresql    synpuf5pct       unrestricted    </span>
<span class="co">#&gt; <span style="color: #949494;"># … with 1 more variable: resultsDatabaseSchema &lt;chr&gt;</span></span></code></pre></div>
<p>The priority vocabulary for the WebApi is SYNPUF5PCT.</p>
<p>We can also perform checks on the WebApi, example - we may want to see if the ‘HCUP’ &amp; ‘SYNPUF1K’ is a valid SourceKey in the current webApi.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu">ROhdsiWebApi</span><span class="fu">::</span><span class="fu"><a href="../reference/isValidSourceKey.html">isValidSourceKey</a></span><span class="op">(</span>sourceKeys <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'HCUP'</span>, <span class="st">'SYNPUF1K'</span><span class="op">)</span>, baseUrl <span class="op">=</span> <span class="va">baseUrl</span><span class="op">)</span>
<span class="co">#&gt; [1] FALSE  TRUE</span></code></pre></div>
<div class="section level3">
<h3 id="webapi-analytical-categories-">WebApi Analytical categories.<a class="anchor" aria-label="anchor" href="#webapi-analytical-categories-"></a>
</h3>
<p>WebApi maybe considered to have certain modular analytic categories. ROhdsiWebApi supports the following categories:</p>
<table class="table">
<colgroup>
<col width="22%">
<col width="77%">
</colgroup>
<thead><tr class="header">
<th align="left">Category</th>
<th align="left">Features</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">ConceptSet</td>
<td align="left">Functions for interfacing with ConceptSet in WebApi</td>
</tr>
<tr class="even">
<td align="left">Cohort</td>
<td align="left">Functions for interfacing with Cohort in WebApi</td>
</tr>
<tr class="odd">
<td align="left">IncidenceRate</td>
<td align="left">Functions for interfacing with IncidenceRate in WebApi</td>
</tr>
<tr class="even">
<td align="left">Estimation</td>
<td align="left">Functions for interfacing with Estimation in WebApi</td>
</tr>
<tr class="odd">
<td align="left">Prediction</td>
<td align="left">Functions for interfacing with Prediction in WebApi</td>
</tr>
<tr class="even">
<td align="left">Characterization</td>
<td align="left">Functions for interfacing with Characterization in WebApi</td>
</tr>
<tr class="odd">
<td align="left">Pathway</td>
<td align="left">Functions for interfacing with Pathway in WebApi</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="framework-of-rohdsiwebapi">Framework of ROhdsiWebApi<a class="anchor" aria-label="anchor" href="#framework-of-rohdsiwebapi"></a>
</h2>
<p>ROhdsiWebApi maybe better understood by having atleast a high level understanding of <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete" class="external-link">CRUD</a> framework for <a href="https://github.com/ohdsi/webapi" class="external-link">WebApi</a>, i.e. the GET, PUT, DELETE, POST calls to the API. See <a href="http://webapidoc.ohdsi.org/index.html" class="external-link">the documentation of the WebApi</a>.</p>
<p>For each supported category, ROhdsiWebAPi performs GET, PUT, DELETE, POST calls to WebApi in background. The details of what calls are actually performed is less important to an analyst, but it is useful to understand the naming conventions of ROhdsiWebApi.</p>
<div class="section level3">
<h3 id="naming-conventions-of-rohdsiwebapi">Naming conventions of ROhdsiWebApi<a class="anchor" aria-label="anchor" href="#naming-conventions-of-rohdsiwebapi"></a>
</h3>
<p>Most functions in ROhdsiWebApi start with an action oriented ‘verb’ - such as</p>
<table class="table">
<colgroup>
<col width="48%">
<col width="51%">
</colgroup>
<thead><tr class="header">
<th align="left">Function Name</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">authorizeWebApi</td>
<td align="left">Authorize Web Api</td>
</tr>
<tr class="even">
<td align="left">cancelCharacterizationGeneration</td>
<td align="left">Cancel Characterization Generation</td>
</tr>
<tr class="odd">
<td align="left">cancelCohortGeneration</td>
<td align="left">Cancel Cohort Generation</td>
</tr>
<tr class="even">
<td align="left">cancelGeneration</td>
<td align="left">Cancel Generation</td>
</tr>
<tr class="odd">
<td align="left">cancelIncidenceRateGeneration</td>
<td align="left">Cancel Incidence Rate Generation</td>
</tr>
<tr class="even">
<td align="left">cancelPathwayGeneration</td>
<td align="left">Cancel Pathway Generation</td>
</tr>
<tr class="odd">
<td align="left">checkInputFileEncoding</td>
<td align="left">Check Input File Encoding</td>
</tr>
<tr class="even">
<td align="left">convertConceptSetDefinitionToTable</td>
<td align="left">Convert Concept Set Definition To Table</td>
</tr>
<tr class="odd">
<td align="left">createConceptSetWorkbook</td>
<td align="left">Create Concept Set Workbook</td>
</tr>
<tr class="even">
<td align="left">deleteCharacterizationDefinition</td>
<td align="left">Delete Characterization Definition</td>
</tr>
<tr class="odd">
<td align="left">deleteCohortDefinition</td>
<td align="left">Delete Cohort Definition</td>
</tr>
<tr class="even">
<td align="left">deleteConceptSetDefinition</td>
<td align="left">Delete Concept Set Definition</td>
</tr>
<tr class="odd">
<td align="left">deleteDefinition</td>
<td align="left">Delete Definition</td>
</tr>
<tr class="even">
<td align="left">deleteEstimationDefinition</td>
<td align="left">Delete Estimation Definition</td>
</tr>
<tr class="odd">
<td align="left">deleteIncidenceRateDefinition</td>
<td align="left">Delete Incidence Rate Definition</td>
</tr>
<tr class="even">
<td align="left">deletePathwayDefinition</td>
<td align="left">Delete Pathway Definition</td>
</tr>
<tr class="odd">
<td align="left">deletePredictionDefinition</td>
<td align="left">Delete Prediction Definition</td>
</tr>
<tr class="even">
<td align="left">detectCharacterizationsByName</td>
<td align="left">Detect Characterizations By Name</td>
</tr>
<tr class="odd">
<td align="left">detectCohortsByName</td>
<td align="left">Detect Cohorts By Name</td>
</tr>
<tr class="even">
<td align="left">detectConceptSetsByName</td>
<td align="left">Detect Concept Sets By Name</td>
</tr>
<tr class="odd">
<td align="left">detectEstimationsByName</td>
<td align="left">Detect Estimations By Name</td>
</tr>
<tr class="even">
<td align="left">detectIncidenceRatesByName</td>
<td align="left">Detect Incidence Rates By Name</td>
</tr>
<tr class="odd">
<td align="left">detectPathwaysByName</td>
<td align="left">Detect Pathways By Name</td>
</tr>
<tr class="even">
<td align="left">detectPredictionsByName</td>
<td align="left">Detect Predictions By Name</td>
</tr>
<tr class="odd">
<td align="left">existsCharacterizationName</td>
<td align="left">Exists Characterization Name</td>
</tr>
<tr class="even">
<td align="left">existsCohortName</td>
<td align="left">Exists Cohort Name</td>
</tr>
<tr class="odd">
<td align="left">existsConceptSetName</td>
<td align="left">Exists Concept Set Name</td>
</tr>
<tr class="even">
<td align="left">existsEstimationName</td>
<td align="left">Exists Estimation Name</td>
</tr>
<tr class="odd">
<td align="left">existsIncidenceRateName</td>
<td align="left">Exists Incidence Rate Name</td>
</tr>
<tr class="even">
<td align="left">existsPathwayName</td>
<td align="left">Exists Pathway Name</td>
</tr>
<tr class="odd">
<td align="left">existsPredictionName</td>
<td align="left">Exists Prediction Name</td>
</tr>
<tr class="even">
<td align="left">exportCohortDefinitionSet</td>
<td align="left">Export Cohort Definition Set</td>
</tr>
<tr class="odd">
<td align="left">getCdmsources</td>
<td align="left">Get Cdmsources</td>
</tr>
<tr class="even">
<td align="left">getCharacterizationDefinition</td>
<td align="left">Get Characterization Definition</td>
</tr>
<tr class="odd">
<td align="left">getCharacterizationDefinitionsMetadata</td>
<td align="left">Get Characterization Definitions Metadata</td>
</tr>
<tr class="even">
<td align="left">getCharacterizationGenerationinformation</td>
<td align="left">Get Characterization Generationinformation</td>
</tr>
<tr class="odd">
<td align="left">getCharacterizationResults</td>
<td align="left">Get Characterization Results</td>
</tr>
<tr class="even">
<td align="left">getCohortDefinition</td>
<td align="left">Get Cohort Definition</td>
</tr>
<tr class="odd">
<td align="left">getCohortDefinitionExpression</td>
<td align="left">Get Cohort Definition Expression</td>
</tr>
<tr class="even">
<td align="left">getCohortDefinitionName</td>
<td align="left">Get Cohort Definition Name</td>
</tr>
<tr class="odd">
<td align="left">getCohortDefinitionSql</td>
<td align="left">Get Cohort Definition Sql</td>
</tr>
<tr class="even">
<td align="left">getCohortDefinitionsMetadata</td>
<td align="left">Get Cohort Definitions Metadata</td>
</tr>
<tr class="odd">
<td align="left">getCohortGenerationinformation</td>
<td align="left">Get Cohort Generationinformation</td>
</tr>
<tr class="even">
<td align="left">getCohortInclusionrulesandcounts</td>
<td align="left">Get Cohort Inclusionrulesandcounts</td>
</tr>
<tr class="odd">
<td align="left">getCohortResults</td>
<td align="left">Get Cohort Results</td>
</tr>
<tr class="even">
<td align="left">getCohortSql</td>
<td align="left">Get Cohort Sql</td>
</tr>
<tr class="odd">
<td align="left">getConceptSetDefinition</td>
<td align="left">Get Concept Set Definition</td>
</tr>
<tr class="even">
<td align="left">getConceptSetDefinitionBySourceKey</td>
<td align="left">Get Concept Set Definition By Source Key</td>
</tr>
<tr class="odd">
<td align="left">getConceptSetDefinitionsMetadata</td>
<td align="left">Get Concept Set Definitions Metadata</td>
</tr>
<tr class="even">
<td align="left">getConcepts</td>
<td align="left">Get Concepts</td>
</tr>
<tr class="odd">
<td align="left">getDefinition</td>
<td align="left">Get Definition</td>
</tr>
<tr class="even">
<td align="left">getDefinitionsMetadata</td>
<td align="left">Get Definitions Metadata</td>
</tr>
<tr class="odd">
<td align="left">getEstimationDefinition</td>
<td align="left">Get Estimation Definition</td>
</tr>
<tr class="even">
<td align="left">getEstimationDefinitionsMetadata</td>
<td align="left">Get Estimation Definitions Metadata</td>
</tr>
<tr class="odd">
<td align="left">getGenerationinformation</td>
<td align="left">Get Generationinformation</td>
</tr>
<tr class="even">
<td align="left">getIncidenceRateDefinition</td>
<td align="left">Get Incidence Rate Definition</td>
</tr>
<tr class="odd">
<td align="left">getIncidenceRateDefinitionsMetadata</td>
<td align="left">Get Incidence Rate Definitions Metadata</td>
</tr>
<tr class="even">
<td align="left">getIncidenceRateGenerationinformation</td>
<td align="left">Get Incidence Rate Generationinformation</td>
</tr>
<tr class="odd">
<td align="left">getIncidenceRateResults</td>
<td align="left">Get Incidence Rate Results</td>
</tr>
<tr class="even">
<td align="left">getPathwayDefinition</td>
<td align="left">Get Pathway Definition</td>
</tr>
<tr class="odd">
<td align="left">getPathwayDefinitionsMetadata</td>
<td align="left">Get Pathway Definitions Metadata</td>
</tr>
<tr class="even">
<td align="left">getPathwayGenerationinformation</td>
<td align="left">Get Pathway Generationinformation</td>
</tr>
<tr class="odd">
<td align="left">getPathwayResults</td>
<td align="left">Get Pathway Results</td>
</tr>
<tr class="even">
<td align="left">getPersonProfile</td>
<td align="left">Get Person Profile</td>
</tr>
<tr class="odd">
<td align="left">getPredictionDefinition</td>
<td align="left">Get Prediction Definition</td>
</tr>
<tr class="even">
<td align="left">getPredictionDefinitionsMetadata</td>
<td align="left">Get Prediction Definitions Metadata</td>
</tr>
<tr class="odd">
<td align="left">getPriorityvocabularykey</td>
<td align="left">Get Priorityvocabularykey</td>
</tr>
<tr class="even">
<td align="left">getResults</td>
<td align="left">Get Results</td>
</tr>
<tr class="odd">
<td align="left">getSourceconcepts</td>
<td align="left">Get Sourceconcepts</td>
</tr>
<tr class="even">
<td align="left">getUsersFromRole</td>
<td align="left">Get Users From Role</td>
</tr>
<tr class="odd">
<td align="left">getWebApiVersion</td>
<td align="left">Get Web Api Version</td>
</tr>
<tr class="even">
<td align="left">insertCohortDefinitionInPackage</td>
<td align="left">Insert Cohort Definition In Package</td>
</tr>
<tr class="odd">
<td align="left">insertCohortDefinitionSetInPackage</td>
<td align="left">Insert Cohort Definition Set In Package</td>
</tr>
<tr class="even">
<td align="left">invokeCharacterizationGeneration</td>
<td align="left">Invoke Characterization Generation</td>
</tr>
<tr class="odd">
<td align="left">invokeCohortGeneration</td>
<td align="left">Invoke Cohort Generation</td>
</tr>
<tr class="even">
<td align="left">invokeGeneration</td>
<td align="left">Invoke Generation</td>
</tr>
<tr class="odd">
<td align="left">invokeIncidenceRateGeneration</td>
<td align="left">Invoke Incidence Rate Generation</td>
</tr>
<tr class="even">
<td align="left">invokePathwayGeneration</td>
<td align="left">Invoke Pathway Generation</td>
</tr>
<tr class="odd">
<td align="left">isvalidCharacterizationId</td>
<td align="left">Isvalid Characterization Id</td>
</tr>
<tr class="even">
<td align="left">isvalidCohortId</td>
<td align="left">Isvalid Cohort Id</td>
</tr>
<tr class="odd">
<td align="left">isvalidConceptSetId</td>
<td align="left">Isvalid Concept Set Id</td>
</tr>
<tr class="even">
<td align="left">isvalidEstimationId</td>
<td align="left">Isvalid Estimation Id</td>
</tr>
<tr class="odd">
<td align="left">isvalidId</td>
<td align="left">Isvalid Id</td>
</tr>
<tr class="even">
<td align="left">isvalidIncidenceRateId</td>
<td align="left">Isvalid Incidence Rate Id</td>
</tr>
<tr class="odd">
<td align="left">isvalidPathwayId</td>
<td align="left">Isvalid Pathway Id</td>
</tr>
<tr class="even">
<td align="left">isvalidPredictionId</td>
<td align="left">Isvalid Prediction Id</td>
</tr>
<tr class="odd">
<td align="left">isvalidSourceKey</td>
<td align="left">Isvalid Source Key</td>
</tr>
<tr class="even">
<td align="left">postCharacterizationDefinition</td>
<td align="left">Post Characterization Definition</td>
</tr>
<tr class="odd">
<td align="left">postCohortDefinition</td>
<td align="left">Post Cohort Definition</td>
</tr>
<tr class="even">
<td align="left">postConceptSetDefinition</td>
<td align="left">Post Concept Set Definition</td>
</tr>
<tr class="odd">
<td align="left">postDefinition</td>
<td align="left">Post Definition</td>
</tr>
<tr class="even">
<td align="left">postEstimationDefinition</td>
<td align="left">Post Estimation Definition</td>
</tr>
<tr class="odd">
<td align="left">postIncidenceRateDefinition</td>
<td align="left">Post Incidence Rate Definition</td>
</tr>
<tr class="even">
<td align="left">postPathwayDefinition</td>
<td align="left">Post Pathway Definition</td>
</tr>
<tr class="odd">
<td align="left">postPredictionDefinition</td>
<td align="left">Post Prediction Definition</td>
</tr>
<tr class="even">
<td align="left">resolveConceptSet</td>
<td align="left">Resolve Concept Set</td>
</tr>
<tr class="odd">
<td align="left">setAuthHeader</td>
<td align="left">Set Auth Header</td>
</tr>
<tr class="even">
<td align="left">updateCohortDefinition</td>
<td align="left">Update Cohort Definition</td>
</tr>
<tr class="odd">
<td align="left">updateConceptSetDefinition</td>
<td align="left">Update Concept Set Definition</td>
</tr>
<tr class="even">
<td align="left">updateDefinition</td>
<td align="left">Update Definition</td>
</tr>
</tbody>
</table>
<p>Most of the functions start with the following verbs:</p>
<table class="table">
<thead><tr class="header">
<th align="left">Function Verb</th>
<th align="right">Number Of Functions</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Get</td>
<td align="right">39</td>
</tr>
<tr class="even">
<td align="left">Isvalid</td>
<td align="right">9</td>
</tr>
<tr class="odd">
<td align="left">Delete</td>
<td align="right">8</td>
</tr>
<tr class="even">
<td align="left">Post</td>
<td align="right">8</td>
</tr>
<tr class="odd">
<td align="left">Detect</td>
<td align="right">7</td>
</tr>
<tr class="even">
<td align="left">Exists</td>
<td align="right">7</td>
</tr>
<tr class="odd">
<td align="left">Cancel</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">Invoke</td>
<td align="right">5</td>
</tr>
<tr class="odd">
<td align="left">Update</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">Insert</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">Authorize</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Check</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Convert</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Create</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Export</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Resolve</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Set</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
<p>A function to get <code>Definition</code> is <code>getDefinitionMetaData</code> function. This is a general function that is able to get the Metadata for all specifications within a category.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu">ROhdsiWebApi</span><span class="fu">::</span><span class="fu"><a href="../reference/getDefinitionsMetadata.html">getDefinitionsMetadata</a></span><span class="op">(</span>baseUrl <span class="op">=</span> <span class="va">baseUrl</span>, 
                                     category <span class="op">=</span> <span class="st">'cohort'</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu">arrange</span><span class="op">(</span><span class="va">.data</span><span class="op">$</span><span class="va">id</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu">rename_all</span><span class="op">(</span>.funs <span class="op">=</span> <span class="fu">SqlRender</span><span class="fu">::</span><span class="va"><a href="https://ohdsi.github.io/SqlRender/reference/camelCaseToTitleCase.html" class="external-link">camelCaseToTitleCase</a></span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="op">)</span> 
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 9</span></span>
<span class="co">#&gt;        Id Name            `Created Date`      `Has Write Acc…` Tags  Description</span>
<span class="co">#&gt;     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 1<span style="text-decoration: underline;">778</span>603 [RYU] Ischemic… 2022-03-07 <span style="color: #949494;">20:10:05</span> FALSE            <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 1<span style="text-decoration: underline;">778</span>604 [RYU] hypoglyc… 2022-03-07 <span style="color: #949494;">20:46:00</span> FALSE            <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 1<span style="text-decoration: underline;">778</span>605 lielserf of AC… 2022-03-08 <span style="color: #949494;">11:47:18</span> FALSE            <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 1<span style="text-decoration: underline;">778</span>606 EHDEN Dementia  2022-03-09 <span style="color: #949494;">02:55:10</span> FALSE            <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 1<span style="text-decoration: underline;">778</span>607 unspecific_mRN… 2022-03-09 <span style="color: #949494;">05:07:05</span> FALSE            <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 1<span style="text-decoration: underline;">778</span>608 Males           2022-03-09 <span style="color: #949494;">10:19:16</span> FALSE            <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>         </span>
<span class="co">#&gt; <span style="color: #949494;"># … with 3 more variables: `Modified Date` &lt;dttm&gt;, `Modified By` &lt;list&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   `Created By` &lt;list&gt;</span></span></code></pre></div>
<p>The same output may be achieved using</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu">ROhdsiWebApi</span><span class="fu">::</span><span class="fu"><a href="../reference/getCohortDefinitionsMetaData.html">getCohortDefinitionsMetaData</a></span><span class="op">(</span>baseUrl <span class="op">=</span> <span class="va">baseUrl</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu">arrange</span><span class="op">(</span><span class="va">.data</span><span class="op">$</span><span class="va">id</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu">rename_all</span><span class="op">(</span>.funs <span class="op">=</span> <span class="fu">SqlRender</span><span class="fu">::</span><span class="va"><a href="https://ohdsi.github.io/SqlRender/reference/camelCaseToTitleCase.html" class="external-link">camelCaseToTitleCase</a></span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="op">)</span> 
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 9</span></span>
<span class="co">#&gt;        Id Name            `Created Date`      `Has Write Acc…` Tags  Description</span>
<span class="co">#&gt;     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 1<span style="text-decoration: underline;">778</span>603 [RYU] Ischemic… 2022-03-07 <span style="color: #949494;">20:10:05</span> FALSE            <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 1<span style="text-decoration: underline;">778</span>604 [RYU] hypoglyc… 2022-03-07 <span style="color: #949494;">20:46:00</span> FALSE            <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 1<span style="text-decoration: underline;">778</span>605 lielserf of AC… 2022-03-08 <span style="color: #949494;">11:47:18</span> FALSE            <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 1<span style="text-decoration: underline;">778</span>606 EHDEN Dementia  2022-03-09 <span style="color: #949494;">02:55:10</span> FALSE            <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 1<span style="text-decoration: underline;">778</span>607 unspecific_mRN… 2022-03-09 <span style="color: #949494;">05:07:05</span> FALSE            <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>         </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 1<span style="text-decoration: underline;">778</span>608 Males           2022-03-09 <span style="color: #949494;">10:19:16</span> FALSE            <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>         </span>
<span class="co">#&gt; <span style="color: #949494;"># … with 3 more variables: `Modified Date` &lt;dttm&gt;, `Modified By` &lt;list&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   `Created By` &lt;list&gt;</span></span></code></pre></div>
<p>Similar approach may be used for all categories as follows:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu">ROhdsiWebApi</span><span class="fu">::</span><span class="fu"><a href="../reference/getDefinitionsMetadata.html">getDefinitionsMetadata</a></span><span class="op">(</span>baseUrl <span class="op">=</span> <span class="va">baseUrl</span>, 
                                     category <span class="op">=</span> <span class="st">'estimation'</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu">arrange</span><span class="op">(</span><span class="va">.data</span><span class="op">$</span><span class="va">id</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu">rename_all</span><span class="op">(</span>.funs <span class="op">=</span> <span class="fu">SqlRender</span><span class="fu">::</span><span class="va"><a href="https://ohdsi.github.io/SqlRender/reference/camelCaseToTitleCase.html" class="external-link">camelCaseToTitleCase</a></span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 7</span></span>
<span class="co">#&gt;   `Created Date`      `Modified Date`     `Has Write Access`    Id Name    Type </span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2022-02-18 <span style="color: #949494;">17:36:56</span> <span style="color: #BB0000;">NA</span>                  FALSE                519 COPY O… Comp…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2022-02-18 <span style="color: #949494;">17:37:03</span> <span style="color: #BB0000;">NA</span>                  FALSE                520 COPY O… Comp…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2022-02-25 <span style="color: #949494;">07:50:30</span> 2022-02-25 <span style="color: #949494;">08:10:16</span> FALSE                521 Risk o… Comp…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2022-02-28 <span style="color: #949494;">05:17:40</span> 2022-02-28 <span style="color: #949494;">05:21:09</span> FALSE                522 mortal… Comp…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2022-02-28 <span style="color: #949494;">05:20:28</span> <span style="color: #BB0000;">NA</span>                  FALSE                523 mortal… Comp…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 2022-02-28 <span style="color: #949494;">05:20:38</span> 2022-02-28 <span style="color: #949494;">05:21:53</span> FALSE                524 mortal… Comp…</span>
<span class="co">#&gt; <span style="color: #949494;"># … with 1 more variable: Description &lt;chr&gt;</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu">ROhdsiWebApi</span><span class="fu">::</span><span class="fu"><a href="../reference/getEstimationDefinitionsMetaData.html">getEstimationDefinitionsMetaData</a></span><span class="op">(</span>baseUrl <span class="op">=</span> <span class="va">baseUrl</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu">arrange</span><span class="op">(</span><span class="va">.data</span><span class="op">$</span><span class="va">id</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu">rename_all</span><span class="op">(</span>.funs <span class="op">=</span> <span class="fu">SqlRender</span><span class="fu">::</span><span class="va"><a href="https://ohdsi.github.io/SqlRender/reference/camelCaseToTitleCase.html" class="external-link">camelCaseToTitleCase</a></span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 7</span></span>
<span class="co">#&gt;   `Created Date`      `Modified Date`     `Has Write Access`    Id Name    Type </span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2022-02-18 <span style="color: #949494;">17:36:56</span> <span style="color: #BB0000;">NA</span>                  FALSE                519 COPY O… Comp…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2022-02-18 <span style="color: #949494;">17:37:03</span> <span style="color: #BB0000;">NA</span>                  FALSE                520 COPY O… Comp…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2022-02-25 <span style="color: #949494;">07:50:30</span> 2022-02-25 <span style="color: #949494;">08:10:16</span> FALSE                521 Risk o… Comp…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2022-02-28 <span style="color: #949494;">05:17:40</span> 2022-02-28 <span style="color: #949494;">05:21:09</span> FALSE                522 mortal… Comp…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2022-02-28 <span style="color: #949494;">05:20:28</span> <span style="color: #BB0000;">NA</span>                  FALSE                523 mortal… Comp…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 2022-02-28 <span style="color: #949494;">05:20:38</span> 2022-02-28 <span style="color: #949494;">05:21:53</span> FALSE                524 mortal… Comp…</span>
<span class="co">#&gt; <span style="color: #949494;"># … with 1 more variable: Description &lt;chr&gt;</span></span></code></pre></div>
<p>This is a generic framework that applies to most WebApi categories, and supports different types of CRUD functionalities like deleteConceptSetDefinition() vs deleteDefinition(category = ‘conceptSet’).</p>
</div>
</div>
<div class="section level2">
<h2 id="concept-set">Concept Set<a class="anchor" aria-label="anchor" href="#concept-set"></a>
</h2>
<p>Please review <a href="https://ohdsi.github.io/TheBookOfOhdsi/Cohorts.html#conceptSets" class="external-link">‘Concept sets - The Book of OHDSI’</a></p>
<p>We commonly post concept set expression into WebApi/Atlas, or try get an expression from Atlas/WebApi based on a conceptSetDefinitionId.</p>
<p>Example: lets say we have concept set expression as follows, that is being used for a Rheumatoid Arthritis study.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">jsonExpression</span> <span class="op">&lt;-</span> <span class="st">[1575 chars quoted with ''']</span></code></pre></div>
<p>Lets call this concept set expression - ‘[ROhdsiWebApi Vignette] Rheumatoid Arthritis concept set’.</p>
<p>We will need to check if there is a concept set by this name.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># check if there is a concept set by this name, if yes, delete it</span>
<span class="va">exists</span> <span class="op">&lt;-</span> <span class="fu">ROhdsiWebApi</span><span class="fu">::</span><span class="fu"><a href="../reference/existsConceptSetName.html">existsConceptSetName</a></span><span class="op">(</span>conceptSetName <span class="op">=</span> <span class="va">conceptSetName</span>, baseUrl <span class="op">=</span> <span class="va">baseUrl</span><span class="op">)</span>
<span class="va">exists</span>
<span class="co">#&gt; [1] FALSE</span></code></pre></div>
<p>If there is a concept set with this name, then we could either choose another name - or delete the old concept set. For this vignette we have chosen to delete any matching concept set as follows:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/Logic.html" class="external-link">isFALSE</a></span><span class="op">(</span><span class="va">exists</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu">ROhdsiWebApi</span><span class="fu">::</span><span class="fu"><a href="../reference/deleteConceptSetDefinition.html">deleteConceptSetDefinition</a></span><span class="op">(</span>conceptSetId <span class="op">=</span> <span class="va">exists</span><span class="op">$</span><span class="va">id</span>, baseUrl <span class="op">=</span> <span class="va">baseUrl</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<p>Now we need to ensure the JSON expression above is converted to R-data object. Note: By design, ROhdsiWebAPi does not accept JSON. It needs to be converted to R (list) expression</p>
<p>We can now post this R-object into WebApi as follows:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">returnFromPostRequest</span> <span class="op">&lt;-</span> <span class="fu">ROhdsiWebApi</span><span class="fu">::</span><span class="fu"><a href="../reference/postConceptSetDefinition.html">postConceptSetDefinition</a></span><span class="op">(</span>baseUrl <span class="op">=</span> <span class="va">baseUrl</span>, 
                                                                conceptSetDefinition <span class="op">=</span> <span class="va">rExpression</span>, 
                                                                name <span class="op">=</span> <span class="va">conceptSetName</span><span class="op">)</span></code></pre></div>
<p>If successful, we will get a return object as follows into R.</p>
<p>The id of the newly posted concept-set definition is <code>returnFromPostRequest$id</code>. We can now use this concept-set for many concept set queries eg.,</p>
<div class="section level3">
<h3 id="if-want-to-print-ready-expression-of-the-concept-set-definition">if want to print ready expression of the concept set definition<a class="anchor" aria-label="anchor" href="#if-want-to-print-ready-expression-of-the-concept-set-definition"></a>
</h3>
<p><code>createConceptSetWorkbook</code> maybe used to create an Excel workbook of the concept set.</p>
<p>If we want a list of all conceptId’s (including descendants) from the concept set expression</p>
<p>The concept set expression json expression can be recaptured from WebApi as follows</p>
<p>Similar framework maybe used with other WebApi categories such as Cohorts/Characterization/Incidence Rate.</p>
</div>
</div>
<div class="section level2">
<h2 id="applications-of-rohdsiwebapi">Applications of ROhdsiWebAPi<a class="anchor" aria-label="anchor" href="#applications-of-rohdsiwebapi"></a>
</h2>
<p>A valuable feature of ROhdsiWebApi is that it is able to get full result set into R, as a data frame object. Results of Cohort, Characterization, Incidence Rate, Pathway maybe obtained. This data frame may then be converted to publication ready material by using packages like <a href="https://davidgohel.github.io/officer/" class="external-link">Officer</a>, <a href="https://davidgohel.github.io/flextable/" class="external-link">flextable</a>. The functions in ROhdsiWebAPi maybe used to create dynamic R-shiny apps that allow user to interact with WebApi and select cohort definitions, concept sets for review or modifications. ROhdsiWebApi may be used to build ‘mini versions’ of Atlas that is project specific - by directly interacting with WebApi using R.</p>
<div class="section level3">
<h3 id="cohortscharacterizationincidence-rate">Cohorts/Characterization/Incidence rate<a class="anchor" aria-label="anchor" href="#cohortscharacterizationincidence-rate"></a>
</h3>
<p>Please review <a href="https://ohdsi.github.io/TheBookOfOhdsi/Cohorts.html#what-is-a-cohort" class="external-link">‘What is a cohort - The Book of OHDSI’</a>.</p>
<blockquote>
<p>We define a cohort as a set of persons who satisfy one or more inclusion criteria for a duration of time. The term cohort is often interchanged with the term phenotype. Cohorts are used throughout OHDSI analytical tools and network studies as the primary building blocks for executing a research question.</p>
</blockquote>
<blockquote>
<p>A cohort is defined as the set of persons satisfying one or more inclusion criteria for a duration of time. One person may qualify for one cohort multiple times during non-overlapping time intervals. Cohorts are constructed in ATLAS by specifying cohort entry criteria and cohort exit criteria. Cohort entry criteria involve selecting one or more initial events, which determine the start date for cohort entry, and optionally specifying additional inclusion criteria which filter to the qualifying events. Cohort exit criteria are applied to each cohort entry record to determine the end date when the person’s episode no longer qualifies for the cohort.</p>
</blockquote>
<p>Cohorts/Characterization/Incidence Rate are WebApi categories, where WebApi manages the execution of generations.</p>
<p>Example: We may want to know if a certain cohort specification has been generated by checking cohort generation status <code>getCohortGenerationInformation(baseUrl = baseUrl, cohortId= 4234)</code>. If a cohort is not previously generated, it may be generated using <code>invokeCohortSetGeneration(baseUrl = baseUrl, cohortId = 4234, sourceKey = 'HCUP')</code> . If it is already generated, we can extract its output of cohort generation using <code>getCohortResults(baseUrl, cohortId = 4234)</code>.</p>
</div>
<div class="section level3">
<h3 id="characterization">Characterization<a class="anchor" aria-label="anchor" href="#characterization"></a>
</h3>
<p>Please review <a href="https://ohdsi.github.io/TheBookOfOhdsi/Characterization.html" class="external-link">‘Characterization - The Book of OHDSI’</a>.</p>
</div>
<div class="section level3">
<h3 id="population-level-effect-estimation">Population Level Effect Estimation<a class="anchor" aria-label="anchor" href="#population-level-effect-estimation"></a>
</h3>
<p>Please review <a href="https://ohdsi.github.io/TheBookOfOhdsi/PopulationLevelEstimation.html" class="external-link">‘Population Level Effect Estimation - The Book of OHDSI’</a>.</p>
</div>
</div>
<div class="section level2">
<h2 id="patient-level-prediction">Patient Level Prediction<a class="anchor" aria-label="anchor" href="#patient-level-prediction"></a>
</h2>
<p>Please review <a href="https://ohdsi.github.io/TheBookOfOhdsi/PatientLevelPrediction.html" class="external-link">‘Patient Level Prediction - The Book of OHDSI’</a>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Gowtham Rao, Martijn Schuemie, Jamie Gilbert.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
